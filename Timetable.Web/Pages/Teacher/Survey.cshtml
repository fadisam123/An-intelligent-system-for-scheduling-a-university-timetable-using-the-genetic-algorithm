@page
@model Timetable.RazorWeb.Pages.Teacher.SurveyModel
@{
}

<table id="myTable">


    <tr>
        @foreach (var day in Model.Days)
        {
            <th>@day.Name</th>
        }
        <th>الوقت</th>
    </tr>


    @*---- أسطر ----*@
    @for (int i = 0; i < Model.Times.Count; i++)
    {
        <tr>
            @*---- أعمدة  ----*@
            @for (int j = 0; j < Model.Days.Count; j++)
            {
                var preferrence = @Model?.TeacherPreferrences?.FirstOrDefault(p => p.time.Id == Model.Times[i].Id && p.day.DayNo == Model.Days[j].DayNo);
                if (preferrence is not null)
                {
                    <td class="bg-success">
                        تم الاختيار
                    </td>
                }
                else
                {
                    <td>
                    </td>
                }

                if (j == Model.Days.Count - 1)
                {
                    <td>
                        @Model.Times[i].Start <br>
                        @Model.Times[i].End
                    </td>
                }
            }
        </tr>
    }

</table>